<template>
  <div class>
    <header class="index-1uR8L">
      <div class="index-20vHR">
        <div class="index-19Tch">
          <svg class="index-2PFNE">
            <use xmlns:xlink="http://www.w3.org/1999/xlink"
                 xlink:href="#location"></use>
            <svg viewBox="0 0 26 31"
                 id="location"
                 width="100%"
                 height="100%">
              <path fill="#FFF"
                    fill-rule="evenodd"
                    d="M22.116 22.601c-2.329 2.804-7.669 7.827-7.669 7.827-.799.762-2.094.763-2.897-.008 0 0-5.26-4.97-7.643-7.796C1.524 19.8 0 16.89 0 13.194 0 5.908 5.82 0 13 0s13 5.907 13 13.195c0 3.682-1.554 6.602-3.884 9.406zM18 13a5 5 0 1 0-10 0 5 5 0 0 0 10 0z"></path>
            </svg>
          </svg>
          <span class="index-1sj9R">东城区北京市政府</span>
          <svg class="index-3T-ne">
            <use xmlns:xlink="http://www.w3.org/1999/xlink"
                 xlink:href="#arrow"></use>
          </svg>
        </div>
        <aside class="index-22sZa">
          <div><h2 class="index-YNbqj">17°</h2>
            <p class="index-ezBa2">晴天</p></div>
          <img alt="天气图标"
               class="index-1ujwY"
               src="//fuss10.elemecdn.com/9/b9/c8e482821be2080edcffbb3a8d376png.png?imageMogr/format/webp/thumbnail/!69x69r/gravity/Center/crop/69x69/">
        </aside>
      </div>
    </header>
    <div class="search-wrapper"
         style="position: sticky; top: 0px; z-index: 999;">
      <div href="javascript:;"
           class="search"
           style="top: 0px; z-index: 999;">
        <router-link class="content"
                     to="/search">
          <svg>
            <use xmlns:xlink="http://www.w3.org/1999/xlink"
                 xlink:href="#search">
              <svg viewBox="0 0 14 14"
                   id="search"
                   width="100%"
                   height="100%">
                <g fill="#999"
                   fill-rule="evenodd">
                  <path fill-rule="nonzero"
                        d="M5.5 9.5a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0 1.5a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11z"></path>
                  <rect width="1.5"
                        height="6"
                        x="9.904"
                        y="7.859"
                        rx=".5"
                        transform="rotate(-45 10.654 10.859)"></rect>
                </g>
              </svg>
            </use>
          </svg>
          <span>搜索商家、商品名称</span></router-link>
      </div>
    </div>
    <div class=""></div>
    <section>
      <div>
        <div class="mint-swipe foodentry swiper-container">
          <div class="mint-swipe-items-wrap swiper-wrapper">
            <div class="mint-swipe-item is-active self swiper-slide"><a href="javascript:">
              <div class="container">
                <img src="//fuss10.elemecdn.com/b/7e/d1890cf73ae6f2adb97caa39de7fcjpeg.jpeg?imageMogr/format/webp/thumbnail/!90x90r/gravity/Center/crop/90x90/">
                <!----></div>
              <span class="title">美食</span></a><a href="javascript:">
              <div class="container">
                <img src="//fuss10.elemecdn.com/2/35/696aa5cf9820adada9b11a3d14bf5jpeg.jpeg?imageMogr/format/webp/thumbnail/!90x90r/gravity/Center/crop/90x90/">
                <!----></div>
              <span class="title">甜品饮品</span></a><a href="javascript:">
              <div class="container">
                <img src="//fuss10.elemecdn.com/c/3c/0184f5b3fa72f295fc01864734218jpeg.jpeg?imageMogr/format/webp/thumbnail/!90x90r/gravity/Center/crop/90x90/">
                <!----></div>
              <span class="title">商超便利</span></a><a href="javascript:">
              <div class="container">
                <img src="//fuss10.elemecdn.com/d/49/7757ff22e8ab28e7dfa5f7e2c2692jpeg.jpeg?imageMogr/format/webp/thumbnail/!90x90r/gravity/Center/crop/90x90/">
                <!----></div>
              <span class="title">预订早餐</span></a><a href="javascript:">
              <div class="container">
                <img src="//fuss10.elemecdn.com/c/db/d20d49e5029281b9b73db1c5ec6f9jpeg.jpeg?imageMogr/format/webp/thumbnail/!90x90r/gravity/Center/crop/90x90/">
                <!----></div>
              <span class="title">果蔬生鲜</span></a><a href="javascript:">
              <div class="container">
                <img src="//fuss10.elemecdn.com/a/fa/d41b04d520d445dc5de42dae9a384jpeg.jpeg?imageMogr/format/webp/thumbnail/!90x90r/gravity/Center/crop/90x90/">
                <!----></div>
              <span class="title">新店特惠</span></a><a href="javascript:">
              <div class="container">
                <img src="//fuss10.elemecdn.com/6/74/785eafaf358fa6b18df37c64c3510jpeg.jpeg?imageMogr/format/webp/thumbnail/!90x90r/gravity/Center/crop/90x90/">
                <!----></div>
              <span class="title">大牌必吃</span></a><a href="javascript:">
              <div class="container">
                <img src="//fuss10.elemecdn.com/e/89/185f7259ebda19e16123884a60ef2jpeg.jpeg?imageMogr/format/webp/thumbnail/!90x90r/gravity/Center/crop/90x90/">
                <!----></div>
              <span class="title">晚餐</span></a></div>
            <div class="mint-swipe-item self swiper-slide"><a href="javascript:">
              <div class="container">
                <img src="//fuss10.elemecdn.com/3/01/c888acb2c8ba9e0c813f36ec9e90ajpeg.jpeg?imageMogr/format/webp/thumbnail/!90x90r/gravity/Center/crop/90x90/">
                <!----></div>
              <span class="title">浪漫鲜花</span></a><a href="javascript:">
              <div class="container">
                <img src="//fuss10.elemecdn.com/b/e1/58aa34ef194d216c9f2328f603588jpeg.jpeg?imageMogr/format/webp/thumbnail/!90x90r/gravity/Center/crop/90x90/">
                <!----></div>
              <span class="title">医药健康</span></a><a href="javascript:">
              <div class="container">
                <img src="//fuss10.elemecdn.com/b/7f/432619fb21a40b05cd25d11eca02djpeg.jpeg?imageMogr/format/webp/thumbnail/!90x90r/gravity/Center/crop/90x90/">
                <!----></div>
              <span class="title">汉堡薯条</span></a><a href="javascript:">
              <div class="container">
                <img src="//fuss10.elemecdn.com/2/17/244241b514affc0f12f4168cf6628jpeg.jpeg?imageMogr/format/webp/thumbnail/!90x90r/gravity/Center/crop/90x90/">
                <!----></div>
              <span class="title">包子粥店</span></a><a href="javascript:">
              <div class="container">
                <img src="//fuss10.elemecdn.com/a/8a/ec21096d528b7cfd23cdd894f01c6jpeg.jpeg?imageMogr/format/webp/thumbnail/!90x90r/gravity/Center/crop/90x90/">
                <!----></div>
              <span class="title">地方菜系</span></a><a href="javascript:">
              <div class="container">
                <img src="//fuss10.elemecdn.com/7/b6/235761e50d391445f021922b71789jpeg.jpeg?imageMogr/format/webp/thumbnail/!90x90r/gravity/Center/crop/90x90/">
                <!----></div>
              <span class="title">披萨意面</span></a><a href="javascript:">
              <div class="container">
                <img src="//fuss10.elemecdn.com/3/c7/a9ef469a12e7a596b559145b87f09jpeg.jpeg?imageMogr/format/webp/thumbnail/!90x90r/gravity/Center/crop/90x90/">
                <!----></div>
              <span class="title">麻辣烫</span></a></div>
          </div>
          <div class="mint-swipe-indicators"
               style="">
            <div class="mint-swipe-indicator is-active"></div>
            <div class="mint-swipe-indicator"></div>
          </div>
          <div class="swiper-pagination"></div>
        </div>
      </div>
    </section>
    <section><!---->
      <div class="index-1y1Q5_0">
        <section class="index-YG6sZ_0">
          <img src="//fuss10.elemecdn.com/3/12/05997b77c8cb8adf82298b8a39434png.png?imageMogr/format/webp/thumbnail/!710x178r/gravity/Center/crop/710x178/">
        </section>
        <section>
          <div class="index-3xB2N_0">
            <div class="index-3OXhZ_0 index-Q3GS5_0"><h3 class="index-1qvN6_0">限量抢购</h3>
              <div class="index-2W67h_0">超值美味 9.9元起</div>
              <div class="index-1DFa7_0"><span>509人</span>正在抢 &gt;</div>
              <img src="//fuss10.elemecdn.com/b/e1/0fa0ed514c093a7138b0b9a50d61fpng.png?imageMogr/format/webp/thumbnail/!240x160r/gravity/Center/crop/240x160/">
            </div>
            <div class="index-Q3GS5_0"><h3 class="index-1qvN6_0">热卖套餐</h3>
              <div class="index-2W67h_0">销量最高，好评最多</div>
              <div class="index-1DFa7_0"><!---->TOP 100 &gt;</div>
              <img src="//fuss10.elemecdn.com/d/d4/16ff085900d62b8d60fa7e9c6b65dpng.png?imageMogr/format/webp/thumbnail/!240x160r/gravity/Center/crop/240x160/">
            </div>
          </div>
          <div class="index-QE-ye_0">
            <div class="index-3Dnrh_0 index-Q3GS5_0"><h3 class="index-1qvN6_0">天天特价</h3>
              <span class="index-2W67h_0">低至1折</span><img src="//fuss10.elemecdn.com/5/06/ddb537220b8c56d4ef6ae22718984png.png?imageMogr/format/webp/thumbnail/!232x154r/gravity/Center/crop/232x154/">
            </div>
            <div class="index-Q3GS5_0"><h3 class="index-1qvN6_0">乐享鲜果</h3>
              <span class="index-2W67h_0">鲜果乐享7折</span><img src="//fuss10.elemecdn.com/a/98/8010e87e876a7bf137597bf7fd324png.png?imageMogr/format/webp/thumbnail/!232x154r/gravity/Center/crop/232x154/">
            </div>
            <div class="index-Q3GS5_0"><h3 class="index-1qvN6_0">品质优选</h3>
              <span class="index-2W67h_0">尖货来袭</span><img src="//fuss10.elemecdn.com/a/b5/dcb5bff74242e06b3c2efee1cbffcpng.png?imageMogr/format/webp/thumbnail/!232x154r/gravity/Center/crop/232x154/">
            </div>
          </div>
        </section>
      </div>
    </section>
    <h3 class="index-title">推荐商家</h3>
    <router-link to="/shop">
      <section @click="getMsgPath(item._id)" v-for="(item,index) in submitForm"
             class="index-container_10L_lQb shop-0"
             show-cart-quantity="true"
             v-if="item.status">
      <div class="logo-container_XoH2Vit_0">
        <div class="logo-main_21aInWJ_0"><img alt="绿茶餐厅(北京崇文门店)"
                                              class="logo-logo_3S1eSkn_0"
                                              :src="'//fuss10.elemecdn.com/'+pic(item.image_path)+'?imageMogr/format/webp/thumbnail/!130x130r/gravity/Center/crop/130x130/'">
          <!----> <!----></div> <!----></div>
      <div class="index-main_N3FfcSz">
        <section class="index-line_2-iYR1A"><h3 class="index-shopname_39Y7e3U index-premium_39rl0v9">
          <span>{{ item.name }}</span></h3>
          <ul class="index-supportWrap_2lTcxr2">
            <li v-if="item.supports">保</li>
          </ul>
        </section>
        <section class="index-line_2-iYR1A">
          <div class="index-rateWrap_39dWx_g">
            <div class="rating-wrapper_3sl9ijQ_0">
              <div class="rating-gray_h-5T1ij_0">
                <svg>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                       xlink:href="#star-gray.cc081b9">
                    <svg viewBox="0 0 60 10"
                         id="star-gray.cc081b9"
                         width="100%"
                         height="100%">
                      <path fill="#EEE"
                            fill-rule="evenodd"
                            d="M54.017 8.072l-2.552 1.561c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L53.63.589c.213-.515.557-.523.774 0l1.146 2.763 2.982.237c.556.044.67.368.24.736l-2.274 1.944.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56zm-48 0L3.465 9.633c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L5.63.589c.213-.515.557-.523.774 0L7.55 3.352l2.982.237c.556.044.67.368.24.736L8.497 6.269l.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56zm12 0l-2.552 1.561c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L17.63.589c.213-.515.557-.523.774 0l1.146 2.763 2.982.237c.556.044.67.368.24.736l-2.274 1.944.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56zm12 0l-2.552 1.561c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L29.63.589c.213-.515.557-.523.774 0l1.146 2.763 2.982.237c.556.044.67.368.24.736l-2.274 1.944.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56zm12 0l-2.552 1.561c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L41.63.589c.213-.515.557-.523.774 0l1.146 2.763 2.982.237c.556.044.67.368.24.736l-2.274 1.944.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56z">
                      </path>
                    </svg>
                  </use>
                </svg>
              </div>
              <div class="rating-actived_fJcqa6U_0"
                   :style="{width: (item.rating*20)+'%'}">
                <svg>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                       xlink:href="#star-actived.d4c54d1">
                    <svg viewBox="0 0 60 10"
                         id="star-actived.d4c54d1"
                         width="100%"
                         height="100%">
                      <path fill="yellow"
                            fill-rule="evenodd"
                            d="M54.017 8.072l-2.552 1.561c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L53.63.589c.213-.515.557-.523.774 0l1.146 2.763 2.982.237c.556.044.67.368.24.736l-2.274 1.944.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56zm-48 0L3.465 9.633c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L5.63.589c.213-.515.557-.523.774 0L7.55 3.352l2.982.237c.556.044.67.368.24.736L8.497 6.269l.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56zm12 0l-2.552 1.561c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L17.63.589c.213-.515.557-.523.774 0l1.146 2.763 2.982.237c.556.044.67.368.24.736l-2.274 1.944.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56zm12 0l-2.552 1.561c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L29.63.589c.213-.515.557-.523.774 0l1.146 2.763 2.982.237c.556.044.67.368.24.736l-2.274 1.944.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56zm12 0l-2.552 1.561c-.476.291-.758.096-.626-.455l.696-2.909-2.273-1.944c-.424-.362-.325-.691.239-.736l2.982-.237L41.63.589c.213-.515.557-.523.774 0l1.146 2.763 2.982.237c.556.044.67.368.24.736l-2.274 1.944.696 2.91c.13.542-.143.75-.626.454l-2.551-1.56z">
                      </path>
                    </svg>
                  </use>
                </svg>
              </div>
            </div>
            <span class="index-rate_WsK58g8">{{ item.rating }}</span> <span>月售{{ item.recent_order_num }}单</span></div>
          <div class="index-deliveryWrap_Mpu6t9_"><!----> <span class="index-iconDelivery_1lu0TGf index-hollow_1HrLOuT"
                                                                v-if="item.delivery_mode">
            蜂鸟配送
        </span></div>
        </section>
        <section class="index-line_2-iYR1A">
          <div class="index-moneylimit_2fCq9W5"><span>¥{{ item.float_minimum_order_amount }}起送</span>
            <span>配送费¥{{ item.float_delivery_fee }}</span> <!----></div>
          <div class="index-timedistanceWrap_2Dp_kzY"><span class="index-distanceWrap_1EPAlti">{{ item.distance / 1000
            }}km</span>
            <span>{{ item.order_lead_time }}分钟</span></div>
        </section> <!---->
        <svg class="index-dashedline_7B79b3W">
          <use xmlns:xlink="http://www.w3.org/1999/xlink"
               xlink:href="#dashed-line.3732003"></use>
        </svg>
        <section class="index-activities_25AUDsx">
          <div class="index-activityList_1wvwwUY">
            <div class="index-actRow_2f_uNNA"
                 v-for="items in item.activities"><span class="index-icon_1fBCxBk"
                                                        :style="'background-color:'+ '#' + items.icon_color">{{ items.icon_name
              }}</span>
              <span style="display: block;"
                    class="index-desc_JLha7Vr">{{ items.description }}</span></div>
          </div>
          <div class="index-activityBtn_tMk-e1C"
               v-if="item.activities.length>2">
            {{item.activities.length}}个活动
            <svg :class="{classa: item.is_new}"
                 @click="toggle(index,$event)">
              <use xmlns:xlink="http://www.w3.org/1999/xlink"
                   xlink:href="#activity-more.c46fec1">
                <svg viewBox="0 0 12 6"
                     id="activity-more.c46fec1"
                     width="100%"
                     height="100%">
                  <path fill-rule="evenodd"
                        d="M4.577 5.423c.79.77 2.073.767 2.857 0l4.12-4.026C12.345.625 12.09 0 10.985 0H1.027C-.077 0-.33.63.457 1.397l4.12 4.026z"></path>
                </svg>
              </use>
            </svg>
          </div>
        </section>
      </div>
    </section>
    </router-link>
      <div style="opacity: 0;"class="BackTop-wrapper_3XDbcaq">
      <svg class="BackTop-icon_2Js4K94">
        <use xmlns:xlink="http://www.w3.org/1999/xlink"
             xlink:href="#back-top.f9a58c0">
          <svg viewBox="0 0 138 128"
               id="back-top.f9a58c0"
               width="100%"
               height="100%">
            <g fill="#757575"
               fill-rule="evenodd"
               transform="translate(18 11)">
              <rect width="98.522"
                    height="8.917"
                    x="2.239"
                    rx="4.458"></rect>
              <rect width="89.565"
                    height="8.917"
                    x="6.717"
                    y="57.958"
                    rx="4.458"
                    transform="rotate(90 51.5 62.417)"></rect>
              <rect width="71.652"
                    height="8.917"
                    x="-6.671"
                    y="40.171"
                    rx="4.458"
                    transform="scale(-1 1) rotate(45 0 -25.757)"></rect>
              <rect width="71.652"
                    height="8.917"
                    x="38.112"
                    y="40.171"
                    rx="4.458"
                    transform="rotate(45 73.938 44.63)"></rect>
            </g>
          </svg>
        </use>
      </svg>
    </div>
  </div>
</template>
<script>
  import store from '../../Vuex/Vuex'
  import Pichash from '../../../static/js/pic'
  import floor from '../../../static/js/Floor'
  export default{
    data(){
      return {
//        msg1: [],
//        isA: false
          shopMsg:''
      }
    },
    created(){
//      this.msg = store.state.msg
      store.commit('Axios')
    },
    methods: {
      pic(data){
        let msg = Pichash(data)
        return msg
      },
      floornum(data){
        let msg = floor(data)
        return msg
      },
      toggle(data,event){
        this.submitForm[data].is_new = !this.submitForm[data].is_new
        event.stopPropagation(0)
      },
      getMsgPath(data){
        store.state.shopMsg = data
//        console.log(store.state.shopMsg )
        store.commit('Shop')
      }
    },
    mounted(){
      var swiper = new Swiper('.swiper-container', {
        pagination: {
          el: '.swiper-pagination',
        },
        loop: true,

      });
    },
    computed: {
      submitForm(){
        return store.state.msg
      },
    }
  }
  window.onload = function () {
    let obtn = document.getElementsByClassName('BackTop-wrapper_3XDbcaq')[0]
    let clientHeight = document.documentElement.clientHeight||document.body.clientHeight
    window.onscroll = function () {
      let oTop = document.documentElement.scrollTop||document.body.scrollTop;
      if (oTop>=clientHeight){
        obtn.style.opacity = '1'
      }else {
        obtn.style.opacity = '0'
      }
    }
    obtn.onclick = function () {
      document.documentElement.scrollTop = 0
    }
    var swiper = new Swiper('.swiper-container', {
      pagination: {
        el: '.swiper-pagination',
      },
      loop : true,
    });
  }
</script>
<style lang="less"
       scoped>
  .mint-swipe-items-wrap {
    width: 200% !important;
  }

  .self {
    width: 50% !important;
    float: left;
  }

  .classa {
    transform: rotateZ(180deg);
  }
</style>
